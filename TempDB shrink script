-- Provided by Mr. Luis Crespo :-)
CHECKPOINT;
GO
DBCC DROPCLEANBUFFERS;
GO
DBCC FREEPROCCACHE;
GO
DBCC FREESYSTEMCACHE ('ALL');
GO
DBCC FREESESSIONCACHE;
GO
USE [tempdb]
GO

--exec sp_helpdb tempdb    Displays tempdb details
DBCC SHRINKFILE (N'tempdev' , 1024)
GO
DBCC SHRINKFILE (N'temp2' , 1024)
GO
DBCC SHRINKFILE (N'temp3' , 1024)
GO
DBCC SHRINKFILE (N'temp4' , 0, 1024)
GO
DBCC SHRINKFILE (N'temp5' , 1024)
GO
DBCC SHRINKFILE (N'temp6' , 1024)
GO
DBCC SHRINKFILE (N'temp7' , 1024)
GO
DBCC SHRINKFILE (N'temp8' , 1024)
GO
CHECKPOINT
GO
DBCC DROPCLEANBUFFERS;
Go
DBCC FREEPROCCACHE;
GO
DBCC FREESYSTEMCACHE ('ALL');
GO
DBCC FREESESSIONCACHE;
GO


